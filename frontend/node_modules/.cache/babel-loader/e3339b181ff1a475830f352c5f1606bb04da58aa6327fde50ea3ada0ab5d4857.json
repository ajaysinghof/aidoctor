{"ast":null,"code":"var _jsxFileName = \"/home/ajay/Downloads/ai-doctor-starter/frontend/src/App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport \"./styles.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [text, setText] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const chatEndRef = useRef(null);\n\n  // Auto-scroll chat down when messages update\n  useEffect(() => {\n    if (chatEndRef.current) {\n      chatEndRef.current.scrollIntoView({\n        behavior: \"smooth\"\n      });\n    }\n  }, [messages]);\n  const sendText = async () => {\n    if (!text.trim()) return;\n    const userMessage = {\n      role: \"user\",\n      content: text\n    };\n    setMessages(m => [...m, userMessage]);\n    const messageToSend = text;\n    setText(\"\");\n    setLoading(true);\n    try {\n      const response = await fetch(\"/api/chat/message\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          userId: \"user\",\n          text: messageToSend\n        })\n      });\n      const data = await response.json();\n      const botMessage = {\n        role: \"assistant\",\n        content: typeof data === \"string\" ? data : JSON.stringify(data)\n      };\n      setMessages(m => [...m, botMessage]);\n    } catch (err) {\n      setMessages(m => [...m, {\n        role: \"assistant\",\n        content: \"❌ Error contacting the server. Please try again.\"\n      }]);\n    }\n    setLoading(false);\n  };\n\n  // Send on Enter\n  const handleKeyPress = e => {\n    if (e.key === \"Enter\") sendText();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"AI Doctor \\u2014 Chat Assistant\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat\",\n      children: [messages.map((m, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `message ${m.role}`,\n        children: m.content\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message assistant typing\",\n        children: \"\\u23F3 AI Doctor is thinking...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: chatEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: text,\n        onChange: e => setText(e.target.value),\n        onKeyPress: handleKeyPress,\n        placeholder: \"Describe symptoms, upload reports, ask health questions...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: sendText,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"w3VB8d5AGaQgkVLPSmTOrK32/Ag=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","App","_s","messages","setMessages","text","setText","loading","setLoading","chatEndRef","current","scrollIntoView","behavior","sendText","trim","userMessage","role","content","m","messageToSend","response","fetch","method","headers","body","JSON","stringify","userId","data","json","botMessage","err","handleKeyPress","e","key","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","i","ref","value","onChange","target","onKeyPress","placeholder","onClick","_c","$RefreshReg$"],"sources":["/home/ajay/Downloads/ai-doctor-starter/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport \"./styles.css\";\n\nexport default function App() {\n  const [messages, setMessages] = useState([]);\n  const [text, setText] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const chatEndRef = useRef(null);\n\n  // Auto-scroll chat down when messages update\n  useEffect(() => {\n    if (chatEndRef.current) {\n      chatEndRef.current.scrollIntoView({ behavior: \"smooth\" });\n    }\n  }, [messages]);\n\n  const sendText = async () => {\n    if (!text.trim()) return;\n\n    const userMessage = {\n      role: \"user\",\n      content: text\n    };\n\n    setMessages((m) => [...m, userMessage]);\n\n    const messageToSend = text;\n    setText(\"\");\n    setLoading(true);\n\n    try {\n      const response = await fetch(\"/api/chat/message\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ userId: \"user\", text: messageToSend })\n      });\n\n      const data = await response.json();\n\n      const botMessage = {\n        role: \"assistant\",\n        content: typeof data === \"string\" ? data : JSON.stringify(data)\n      };\n\n      setMessages((m) => [...m, botMessage]);\n    } catch (err) {\n      setMessages((m) => [\n        ...m,\n        {\n          role: \"assistant\",\n          content: \"❌ Error contacting the server. Please try again.\"\n        }\n      ]);\n    }\n\n    setLoading(false);\n  };\n\n  // Send on Enter\n  const handleKeyPress = (e) => {\n    if (e.key === \"Enter\") sendText();\n  };\n\n  return (\n    <div className=\"app\">\n      <h2>AI Doctor — Chat Assistant</h2>\n\n      {/* Chat Box */}\n      <div className=\"chat\">\n        {messages.map((m, i) => (\n          <div key={i} className={`message ${m.role}`}>\n            {m.content}\n          </div>\n        ))}\n\n        {loading && (\n          <div className=\"message assistant typing\">\n            ⏳ AI Doctor is thinking...\n          </div>\n        )}\n\n        <div ref={chatEndRef}></div>\n      </div>\n\n      {/* Input Box */}\n      <div className=\"controls\">\n        <input\n          value={text}\n          onChange={(e) => setText(e.target.value)}\n          onKeyPress={handleKeyPress}\n          placeholder=\"Describe symptoms, upload reports, ask health questions...\"\n        />\n        <button onClick={sendText}>Send</button>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}