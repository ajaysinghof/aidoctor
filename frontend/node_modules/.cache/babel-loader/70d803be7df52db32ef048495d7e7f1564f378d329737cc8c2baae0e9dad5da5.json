{"ast":null,"code":"var _jsxFileName = \"/home/ajay/Downloads/ai-doctor-starter/frontend/src/App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport \"./styles.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = path => `${process.env.REACT_APP_API_URL || \"http://localhost:8080\"}${path}`;\n_c = API;\nexport default function App() {\n  _s();\n  const [token] = useState(localStorage.getItem(\"token\") || \"\");\n  const [username] = useState(\"Patient\");\n  const [file, setFile] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [ocrResult, setOcrResult] = useState(null);\n  const [messages, setMessages] = useState([{\n    role: \"bot\",\n    text: \"Hi — I'm Dr. Raghav. Describe your symptoms or upload a report.\",\n    time: Date.now()\n  }]);\n  const [chatInput, setChatInput] = useState(\"\");\n  const [chatLoading, setChatLoading] = useState(false);\n  const chatEndRef = useRef(null);\n  useEffect(() => {\n    if (chatEndRef.current) chatEndRef.current.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [messages, chatLoading]);\n\n  // Upload with progress (XHR to get progress events)\n  const uploadFile = () => {\n    if (!file) return alert(\"Please select a file (PDF / JPG / PNG).\");\n    setUploading(true);\n    setProgress(0);\n    setOcrResult(null);\n    const form = new FormData();\n    form.append(\"file\", file);\n    const xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", API(\"/api/ocr/extract\"), true);\n    if (token) xhr.setRequestHeader(\"Authorization\", \"Bearer \" + token);\n    xhr.upload.onprogress = e => {\n      if (e.lengthComputable) {\n        const pct = Math.round(e.loaded / e.total * 100);\n        setProgress(pct);\n      }\n    };\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState === 4) {\n        setUploading(false);\n        setProgress(100);\n        if (xhr.status >= 200 && xhr.status < 300) {\n          try {\n            const parsed = JSON.parse(xhr.responseText);\n            setOcrResult(parsed);\n            // push assistant summary to chat\n            setMessages(m => [...m, {\n              role: \"bot\",\n              text: parsed.summary || \"Report processed. See details.\",\n              time: Date.now()\n            }]);\n          } catch (err) {\n            // response was probably plain text — keep it safe\n            setOcrResult({\n              text: xhr.responseText\n            });\n            setMessages(m => [...m, {\n              role: \"bot\",\n              text: xhr.responseText,\n              time: Date.now()\n            }]);\n          }\n        } else {\n          // server error\n          let message = `OCR failed (${xhr.status})`;\n          try {\n            const json = JSON.parse(xhr.responseText);\n            message = json.message || JSON.stringify(json);\n          } catch (e) {\n            message = xhr.responseText || message;\n          }\n          setMessages(m => [...m, {\n            role: \"bot\",\n            text: `❌ OCR Error: ${message}`,\n            time: Date.now()\n          }]);\n        }\n      }\n    };\n    xhr.send(form);\n  };\n\n  // Simple chat send (POST to /api/chat/message) — expects JSON { reply: \"...\"}\n  const sendChat = async () => {\n    const text = chatInput.trim();\n    if (!text) return;\n    setMessages(m => [...m, {\n      role: \"user\",\n      text,\n      time: Date.now()\n    }]);\n    setChatInput(\"\");\n    setChatLoading(true);\n    try {\n      const res = await fetch(API(\"/api/chat/message\"), {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          ...(token && {\n            Authorization: \"Bearer \" + token\n          })\n        },\n        body: JSON.stringify({\n          userId: \"patient\",\n          text\n        })\n      });\n\n      // prefer JSON reply, fallback to text\n      let reply;\n      try {\n        const j = await res.json();\n        reply = j.reply || j.text || JSON.stringify(j);\n      } catch {\n        reply = await res.text();\n      }\n      setMessages(m => [...m, {\n        role: \"bot\",\n        text: reply,\n        time: Date.now()\n      }]);\n    } catch (err) {\n      setMessages(m => [...m, {\n        role: \"bot\",\n        text: \"❌ Error contacting server. Try again.\",\n        time: Date.now()\n      }]);\n    } finally {\n      setChatLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrap\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"brand\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo\",\n          children: \"AI Doctor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"subtitle\",\n          children: \"Clinic Portal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"doctor-profile\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"doctor-avatar\",\n          src: \"/doctor-male.png\",\n          alt: \"Dr avatar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"doctor-meta\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"doc-name\",\n            children: \"Dr. Raghav\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"doc-role\",\n            children: \"General Physician\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"left\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Upload Medical Report\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"muted\",\n            children: \"PDF or image. Textract + AI will analyze the contents.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"upload-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"file-chooser\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                accept: \".pdf,image/*\",\n                onChange: e => {\n                  var _e$target$files;\n                  return setFile(((_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0]) || null);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this), file ? file.name : \"Choose a file\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn primary\",\n              onClick: uploadFile,\n              disabled: uploading,\n              children: uploading ? \"Uploading...\" : \"Upload & Analyze\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), uploading && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-wrap\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-bar\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-fill\",\n                style: {\n                  width: `${progress}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-text\",\n              children: [progress, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }, this), ocrResult && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"result-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Extraction Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary\",\n              children: ocrResult.summary || ocrResult.text || \"No summary provided.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }, this), ocrResult.fields && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"fields-grid\",\n              children: Object.entries(ocrResult.fields).map(([k, v]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"field\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"field-key\",\n                  children: k\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"field-val\",\n                  children: v\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 25\n                }, this)]\n              }, k, true, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-cards\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card small\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat\",\n              children: \"Active Patients\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"big\",\n              children: \"24\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card small\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat\",\n              children: \"Reports Today\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"big\",\n              children: \"6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card small\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat\",\n              children: \"Alerts\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"big alert\",\n              children: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n        className: \"right\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card chat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-title\",\n              children: \"Consultation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-sub\",\n              children: \"Chat with Dr. Raghav\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-body\",\n            children: [messages.map((m, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `chat-message ${m.role === \"user\" ? \"user\" : \"bot\"}`,\n              children: [m.role === \"bot\" && /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"avatar\",\n                src: \"/doctor-male.png\",\n                alt: \"doc\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 40\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bubble\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bubble-text\",\n                  children: m.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bubble-time\",\n                  children: new Date(m.time).toLocaleTimeString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 19\n              }, this), m.role === \"user\" && /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"avatar user-avatar\",\n                src: \"/patient.png\",\n                alt: \"you\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 41\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: chatEndRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-input-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"chat-input\",\n              placeholder: \"Describe symptoms or ask about the report...\",\n              value: chatInput,\n              onChange: e => setChatInput(e.target.value),\n              onKeyDown: e => e.key === \"Enter\" && sendChat(),\n              disabled: chatLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn\",\n              onClick: sendChat,\n              disabled: chatLoading,\n              children: chatLoading ? \"Thinking...\" : \"Send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card tips\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Quick Tips\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Upload lab reports (CBC, LFT, KFT) for structured extraction.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Ask symptom-specific questions (onset, duration).\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"For emergencies, call your doctor \\u2014 AI is for guidance only.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"footer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"\\xA9 \", new Date().getFullYear(), \" AI Doctor \\u2014 Clinic Portal\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"srUsffBarqs8g3rSqDxItBeFeu8=\");\n_c2 = App;\nvar _c, _c2;\n$RefreshReg$(_c, \"API\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","API","path","process","env","REACT_APP_API_URL","_c","App","_s","token","localStorage","getItem","username","file","setFile","uploading","setUploading","progress","setProgress","ocrResult","setOcrResult","messages","setMessages","role","text","time","Date","now","chatInput","setChatInput","chatLoading","setChatLoading","chatEndRef","current","scrollIntoView","behavior","uploadFile","alert","form","FormData","append","xhr","XMLHttpRequest","open","setRequestHeader","upload","onprogress","e","lengthComputable","pct","Math","round","loaded","total","onreadystatechange","readyState","status","parsed","JSON","parse","responseText","m","summary","err","message","json","stringify","send","sendChat","trim","res","fetch","method","headers","Authorization","body","userId","reply","j","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","type","accept","onChange","_e$target$files","target","files","name","onClick","disabled","style","width","fields","Object","entries","map","k","v","i","toLocaleTimeString","ref","placeholder","value","onKeyDown","key","getFullYear","_c2","$RefreshReg$"],"sources":["/home/ajay/Downloads/ai-doctor-starter/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport \"./styles.css\";\n\nconst API = (path) => `${process.env.REACT_APP_API_URL || \"http://localhost:8080\"}${path}`;\n\nexport default function App() {\n  const [token] = useState(localStorage.getItem(\"token\") || \"\");\n  const [username] = useState(\"Patient\");\n  const [file, setFile] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [ocrResult, setOcrResult] = useState(null);\n  const [messages, setMessages] = useState([\n    { role: \"bot\", text: \"Hi — I'm Dr. Raghav. Describe your symptoms or upload a report.\", time: Date.now() }\n  ]);\n  const [chatInput, setChatInput] = useState(\"\");\n  const [chatLoading, setChatLoading] = useState(false);\n  const chatEndRef = useRef(null);\n\n  useEffect(() => {\n    if (chatEndRef.current) chatEndRef.current.scrollIntoView({ behavior: \"smooth\" });\n  }, [messages, chatLoading]);\n\n  // Upload with progress (XHR to get progress events)\n  const uploadFile = () => {\n    if (!file) return alert(\"Please select a file (PDF / JPG / PNG).\");\n\n    setUploading(true);\n    setProgress(0);\n    setOcrResult(null);\n\n    const form = new FormData();\n    form.append(\"file\", file);\n\n    const xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", API(\"/api/ocr/extract\"), true);\n    if (token) xhr.setRequestHeader(\"Authorization\", \"Bearer \" + token);\n\n    xhr.upload.onprogress = (e) => {\n      if (e.lengthComputable) {\n        const pct = Math.round((e.loaded / e.total) * 100);\n        setProgress(pct);\n      }\n    };\n\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState === 4) {\n        setUploading(false);\n        setProgress(100);\n        if (xhr.status >= 200 && xhr.status < 300) {\n          try {\n            const parsed = JSON.parse(xhr.responseText);\n            setOcrResult(parsed);\n            // push assistant summary to chat\n            setMessages((m) => [\n              ...m,\n              { role: \"bot\", text: parsed.summary || \"Report processed. See details.\", time: Date.now() }\n            ]);\n          } catch (err) {\n            // response was probably plain text — keep it safe\n            setOcrResult({ text: xhr.responseText });\n            setMessages((m) => [...m, { role: \"bot\", text: xhr.responseText, time: Date.now() }]);\n          }\n        } else {\n          // server error\n          let message = `OCR failed (${xhr.status})`;\n          try {\n            const json = JSON.parse(xhr.responseText);\n            message = json.message || JSON.stringify(json);\n          } catch (e) {\n            message = xhr.responseText || message;\n          }\n          setMessages((m) => [...m, { role: \"bot\", text: `❌ OCR Error: ${message}`, time: Date.now() }]);\n        }\n      }\n    };\n\n    xhr.send(form);\n  };\n\n  // Simple chat send (POST to /api/chat/message) — expects JSON { reply: \"...\"}\n  const sendChat = async () => {\n    const text = chatInput.trim();\n    if (!text) return;\n    setMessages((m) => [...m, { role: \"user\", text, time: Date.now() }]);\n    setChatInput(\"\");\n    setChatLoading(true);\n\n    try {\n      const res = await fetch(API(\"/api/chat/message\"), {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\", ...(token && { Authorization: \"Bearer \" + token }) },\n        body: JSON.stringify({ userId: \"patient\", text })\n      });\n\n      // prefer JSON reply, fallback to text\n      let reply;\n      try {\n        const j = await res.json();\n        reply = j.reply || j.text || JSON.stringify(j);\n      } catch {\n        reply = await res.text();\n      }\n\n      setMessages((m) => [...m, { role: \"bot\", text: reply, time: Date.now() }]);\n    } catch (err) {\n      setMessages((m) => [...m, { role: \"bot\", text: \"❌ Error contacting server. Try again.\", time: Date.now() }]);\n    } finally {\n      setChatLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"wrap\">\n      {/* Header */}\n      <header className=\"header\">\n        <div className=\"brand\">\n          <div className=\"logo\">AI Doctor</div>\n          <div className=\"subtitle\">Clinic Portal</div>\n        </div>\n\n        <div className=\"doctor-profile\">\n          <img className=\"doctor-avatar\" src=\"/doctor-male.png\" alt=\"Dr avatar\" />\n          <div className=\"doctor-meta\">\n            <div className=\"doc-name\">Dr. Raghav</div>\n            <div className=\"doc-role\">General Physician</div>\n          </div>\n        </div>\n      </header>\n\n      {/* Main */}\n      <main className=\"main-grid\">\n        {/* Left column: upload + dashboard */}\n        <section className=\"left\">\n          <div className=\"card\">\n            <h3>Upload Medical Report</h3>\n            <p className=\"muted\">PDF or image. Textract + AI will analyze the contents.</p>\n\n            <div className=\"upload-row\">\n              <label className=\"file-chooser\">\n                <input type=\"file\" accept=\".pdf,image/*\" onChange={(e) => setFile(e.target.files?.[0] || null)} />\n                {file ? file.name : \"Choose a file\"}\n              </label>\n              <button className=\"btn primary\" onClick={uploadFile} disabled={uploading}>\n                {uploading ? \"Uploading...\" : \"Upload & Analyze\"}\n              </button>\n            </div>\n\n            {uploading && (\n              <div className=\"progress-wrap\">\n                <div className=\"progress-bar\">\n                  <div className=\"progress-fill\" style={{ width: `${progress}%` }} />\n                </div>\n                <div className=\"progress-text\">{progress}%</div>\n              </div>\n            )}\n\n            {ocrResult && (\n              <div className=\"result-card\">\n                <h4>Extraction Summary</h4>\n                <div className=\"summary\">{ocrResult.summary || ocrResult.text || \"No summary provided.\"}</div>\n                {ocrResult.fields && (\n                  <div className=\"fields-grid\">\n                    {Object.entries(ocrResult.fields).map(([k, v]) => (\n                      <div key={k} className=\"field\">\n                        <div className=\"field-key\">{k}</div>\n                        <div className=\"field-val\">{v}</div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n\n          <div className=\"dashboard-cards\">\n            <div className=\"card small\">\n              <div className=\"stat\">Active Patients</div>\n              <div className=\"big\">24</div>\n            </div>\n            <div className=\"card small\">\n              <div className=\"stat\">Reports Today</div>\n              <div className=\"big\">6</div>\n            </div>\n            <div className=\"card small\">\n              <div className=\"stat\">Alerts</div>\n              <div className=\"big alert\">2</div>\n            </div>\n          </div>\n        </section>\n\n        {/* Right column: chat */}\n        <aside className=\"right\">\n          <div className=\"card chat-card\">\n            <div className=\"chat-header\">\n              <div className=\"chat-title\">Consultation</div>\n              <div className=\"chat-sub\">Chat with Dr. Raghav</div>\n            </div>\n\n            <div className=\"chat-body\">\n              {messages.map((m, i) => (\n                <div key={i} className={`chat-message ${m.role === \"user\" ? \"user\" : \"bot\"}`}>\n                  {m.role === \"bot\" && <img className=\"avatar\" src=\"/doctor-male.png\" alt=\"doc\" />}\n                  <div className=\"bubble\">\n                    <div className=\"bubble-text\">{m.text}</div>\n                    <div className=\"bubble-time\">{new Date(m.time).toLocaleTimeString()}</div>\n                  </div>\n                  {m.role === \"user\" && <img className=\"avatar user-avatar\" src=\"/patient.png\" alt=\"you\" />}\n                </div>\n              ))}\n              <div ref={chatEndRef} />\n            </div>\n\n            <div className=\"chat-input-row\">\n              <input\n                className=\"chat-input\"\n                placeholder=\"Describe symptoms or ask about the report...\"\n                value={chatInput}\n                onChange={(e) => setChatInput(e.target.value)}\n                onKeyDown={(e) => e.key === \"Enter\" && sendChat()}\n                disabled={chatLoading}\n              />\n              <button className=\"btn\" onClick={sendChat} disabled={chatLoading}>\n                {chatLoading ? \"Thinking...\" : \"Send\"}\n              </button>\n            </div>\n          </div>\n\n          <div className=\"card tips\">\n            <h4>Quick Tips</h4>\n            <ul>\n              <li>Upload lab reports (CBC, LFT, KFT) for structured extraction.</li>\n              <li>Ask symptom-specific questions (onset, duration).</li>\n              <li>For emergencies, call your doctor — AI is for guidance only.</li>\n            </ul>\n          </div>\n        </aside>\n      </main>\n\n      <footer className=\"footer\">\n        <div>© {new Date().getFullYear()} AI Doctor — Clinic Portal</div>\n      </footer>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}